Diamond是一个持久配置管理中心，核心功能是使应用在运行中感知配置数据的变化。数据库脚本：create table config_info (	id bigint(64) PRIMARY KEY NOT NULL auto_increment,	data_id varchar(255) default NULL,	group_id varchar(128) default NULL,	content longtext NOT NULL,	md5 varchar(32) default NULL,	gmt_create datetime NOT NULL default '2013-05-01 00:00:00',	gmt_modified datetime NOT NULL default '2013-05-01 00:00:00',	UNIQUE KEY `uk_config_datagroup` (`data_id`,`group_id`));Diamond搭建手册：获取war包：Diamond本身的war跟环境没有太大关系，所以可以直接从测试环境拷贝war包用来搭建War修改：1.修改数据库链接信息因为diamond的数据一致性是依靠数据库保证的，所以这里需要配置数据库链接信息，进到解压的包的WEB-INF/class目录下找到jdbc.properties文件，将其中的数据库信息改为自己真实配置2.修改mysql-jdbc的版本，默认依赖的jdbc版本太低，在rds上运行会有问题，所以建议将jdbc的版本升级到5.1.20以上，测试环境目前使用的是5.1.31版本3.由于Diamond为了做到对前端透明需要用到nameserver，考虑到nameserver本身只是用做提供Diamond机器里列表，所以这里利用Diamond的机器同时作为NameServer用，所以需要再Diamond的war包的根目录下即如测试环境因为是ROOT，所以在ROOT/这个目录下建立一个diamond的文本文件，文件中提供所有Diamond机器的机器列表，每行一个（考虑到Diamond的可靠性非常高，所以不需要Diamond集群）4.用户配置，考虑到这个用户配置只是用来防君子不防小人，如果Diamond用于内部专人管理的话还是有价值的，需要再ROOT/WEB-INF/class/目录下找到user.properties，将修改其中的值即可,如果是公网，建议做ip限制5.服务器配置，前面默认都是将diamond.war修改成了ROOT部署的，所以这里首先要注意的是将diamond.war修改成ROOT.war，其次：端口配置，这里端口采用8080端口，因为这部分被写死在了代码里边diamond默认的查找nameserver的domain是a.b.c,所以本地要在hosts里边做绑定将配置作为nameserver的hosts的ip为a.b.c的绑定地址，如果用diamond 充当nameserver也请做同样的绑定